<!DOCTYPE html>
<html lang="en">
    <!--HEAD-->
    <%- include("./partials/head") %>

    <body>
        <!--HEADER-->
        <%- include("./partials/header") %>
  
        <main> 
            <form class="container my-1" method="POST" action="/register" enctype="multipart/form-data">
                <h2 class="text-center">Formulario de registro</h2>
                <div class="my-1">
                    <div class="form-group">
                        <label><b>Nombre completo:</b></label>
                        <input 
                            type="text" 
                            name="fullName" 
                            class="form-control <%= locals.errors && errors.fullName ? 'is-invalid' : null %>"
                            value="<%= locals.oldData ? oldData.fullName : null %>"
                        >
                        <% if (locals.errors && errors.fullName) { %>
                            <div class="text-danger">
                                <%= errors.fullName.msg %> 
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="my-1">
                    <div class="form-group">

                         <label for="telefono"><b>Número de Teléfono:</b></label>
                         <input 
                         type="tel" 
                         name="telefono"
                         class="form-control <%= locals.errors && errors.telefono ? 'is-invalid' : null %>"
                         value="<%= locals.oldData ? oldData.telefono : null %>"
                     >
                     <% if (locals.errors && errors.telefono) { %>
                         <div class="text-danger">
                             <%= errors.telefono.msg %> 
                         </div>
                     <% } %>
                    </div>
                </div>


                <div class="my-1">
                    <div class="form-group">
                        <label><b>Correo electrónico:</b></label>
                        <input 
                            type="text" 
                            name="email" 
                            class="form-control <%= locals.errors && errors.email ? 'is-invalid' : null %>"
                            value="<%= locals.oldData ? oldData.email : null %>"
                        >
                        <% if (locals.errors && errors.email) { %>
                            <div class="text-danger">
                                <%= errors.email.msg %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="my-1">
                    <div class="form-group">
                        <label><b>Password:</b></label>
                        <input 
                            type="password" 
                            name="clave" 
                            class="form-control <%= locals.errors && errors.clave ? 'is-invalid' : null %>"
                        >
                        <% if (locals.errors && errors.clave) { %>
                            <div class="text-danger">
                                <%= errors.clave.msg %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="my-1">
                    <div class="form-group">
                        <label><b>País de nacimiento:</b></label>
                        <select 
                            name="country" 
                            class="form-select <%= locals.errors && errors.country ? 'is-invalid' : null %>"
                        >
                            <option value="">Elegí un país</option>
                            <% let countries = ['Argentina', 'Bolivia', 'Brasil', 'Colombia', 'Chile', 'Ecuador', 'Paraguay', 'Perú', 'Uruguay', 'Venezuela']; %>
                            <% for (const oneCountry of countries) { %>
                                <option 
                                    value="<%= oneCountry %>"
                                    <%= locals.oldData && (oneCountry === oldData.country) ? 'selected' : null %> 
                                > <%= oneCountry %> </option>
                            <% } %>
                        </select>
                        <% if (locals.errors && errors.country) { %>
                            <div class="text-danger">
                                <%= errors.country.msg %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="my-1">
                    <div class="form-group">
                        <label><b>Imagen de perfil:</b></label>
                        <input 
                            type="file" 
                            name="avatar"
                            class="form-control <%= locals.errors && errors.avatar ? 'is-invalid' : null %>"
                        >
                        <% if (locals.errors && errors.avatar) { %>
                            <div class="text-danger">
                                <%= errors.avatar.msg %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn-primary">Registrarse</button>
                </div>
            </form>
        </main>

        <!--FOOTER-->
        <%- include("./partials/footer") %>
        
        <!--SCRIPTS-->
        <script src="/js/carrousel.js"></script>
    </body>
</html>